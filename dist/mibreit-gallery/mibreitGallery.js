var mibreitGallery=function(i){var e={};function t(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return i[s].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=i,t.c=e,t.d=function(i,e,s){t.o(i,e)||Object.defineProperty(i,e,{enumerable:!0,get:s})},t.r=function(i){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,e){if(1&e&&(i=t(i)),8&e)return i;if(4&e&&"object"==typeof i&&i&&i.__esModule)return i;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:i}),2&e&&"string"!=typeof i)for(var r in i)t.d(s,r,function(e){return i[e]}.bind(null,r));return s},t.n=function(i){var e=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(e,"a",e),e},t.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)},t.p="",t(t.s=8)}([function(i,e){i.exports=jQuery},function(i,e,t){i.exports=t.p+"mibreit-gallery/images/next-image.png"},function(i,e,t){i.exports=t.p+"mibreit-gallery/images/previous-image.png"},function(i,e,t){i.exports=t.p+"mibreit-gallery/images/next.png"},function(i,e,t){i.exports=t.p+"mibreit-gallery/images/previous.png"},function(i,e,t){i.exports=t.p+"mibreit-gallery/images/image-placeholder-transparent.png"},function(i,e,t){i.exports=t.p+"mibreit-gallery/images/exit-fullscreen.png"},function(i,e,t){i.exports=t.p+"mibreit-gallery/images/fullscreen.png"},function(i,e,t){"use strict";t.r(e);t(9),t(14),t(16),t(1),t(2),t(3),t(4),t(5),t(6),t(7);function s(i){return void 0===i||void 0===i}function r(i){return"string"==typeof i||i instanceof String}function n(i){return"number"==typeof i&&isFinite(i)}function h(i){return"boolean"==typeof i}var l=t(0),a=t.n(l);const o=7,_=3;class d{constructor(i,e,t,r){this._currentIndex=e,this._imageWrappers=i,this._loadedCount=0,this._preloadLeftNr=_,s(t)||(this._preloadLeftNr=t),this._preloadRightNr=o,s(r)||(this._preloadRightNr=r),this._moveWindow()}setCurrentIndex(i){this._currentIndex!=i&&(this._currentIndex=i,this._moveWindow())}loadImage(i,e){this._loadedCount<this._imageWrappers.length&&i>=0&&i<this._imageWrappers.length&&this._imageWrappers[i].loadImage(e)&&this._loadedCount++}_moveWindow(){if(this._loadedCount<this._imageWrappers.length){let i=this._currentIndex-this._preloadLeftNr,e=this._currentIndex+this._preloadRightNr;this._loadImages(this._currentIndex,e<this._imageWrappers.length?e:this._imageWrappers.length),this._loadImages(i>=0?i:0,this._currentIndex),i<0&&(i=this._imageWrappers.length+i,this._loadImages(i,this._imageWrappers.length)),e>=this._imageWrappers.length&&(e-=this._imageWrappers.length,this._loadImages(0,e))}}_loadImages(i,e){for(let t=i;t<e&&t<this._imageWrappers.length;t++)this._loadImage(this._imageWrappers[t])}_loadImage(i){i.loadImage()&&this._loadedCount++}}class u{constructor(i){if(this._image=i,this._originalWidth=parseInt(this._image.getAttribute("width")),this._originalHeight=parseInt(this._image.getAttribute("height")),this._title="",$(this._image).wrap('<div class="mibreit-center-box"></div>'),this._image.hasAttribute("title")){const i=this._image.getAttribute("title");this._image.removeAttribute("title"),this._image.setAttribute("data-title",i)}this._title=this._image.getAttribute("data-title")}loadImage(i){return!this.wasLoaded()&&(s(i)||(this._image.onload=(()=>{i()})),this._image.setAttribute("src",this._image.getAttribute("data-src")),this._image.removeAttribute("data-src"),!0)}wasLoaded(){return!this._image.hasAttribute("data-src")}getTitle(){return this._title}applyScaleMode(i,e,t){switch(t){case"stretch":$(this._image).css({width:"100%",height:"100%"});break;case"expand":i/e>this._originalWidth/this._originalHeight?$(this._image).css({width:"100%",height:"auto"}):$(this._image).css({width:"auto",height:"100%"});break;case"fitaspect":i/e>this._originalWidth/this._originalHeight?e<=this._originalHeight?$(this._image).css({width:"auto",height:"100%"}):$(this._image).css({width:"auto",height:"auto"}):i<=this._originalWidth?$(this._image).css({width:"100%",height:"auto"}):$(this._image).css({width:"auto",height:"auto"});break;case"none":default:$(this._image).css({width:"auto",height:"auto"})}return this._image}}const c=10,m=800,g=3e3;class b{constructor(){this.showImage=(i=>{this._isValidIndex(i)&&i!=this._currentIndex&&(this._imageWrappers[i].wasLoaded()?this._changeCurrentImage(i):this._preloader.loadImage(i,()=>{this._changeCurrentImage(i)}))}),this.showNextImage=(()=>{var i=this._currentIndex<this._imageContainers.length-1?this._currentIndex+1:0;this.showImage(i)}),this.showPreviousImage=(()=>{var i=this._currentIndex>0?this._currentIndex-1:this._imageContainers.length-1;this.showImage(i)}),this._currentIndex=0,this._slideshowContainer=void 0,this._imageContainers=[],this._imageWrappers=[],this._imageScaleMode="none",this._interval=g,this._intervalId=-1,this._baseZIndex=c,this._imageChangedCallback=void 0,this._preloader=void 0}init(i){let e=0;if(r(i.slideshowContainer)&&a()(i.slideshowContainer).length){this._slideshowContainer=i.slideshowContainer,this._imageContainers=a()(i.slideshowContainer+" .mibreit-imageElement").has("img");const t=a()(i.slideshowContainer+" .mibreit-imageElement > img");if(this._imageContainers.length>0&&this._imageContainers.length===t.length){this._wrapImages(t);const e=a()(i.slideshowContainer).css("z-index");n(e)&&(this._baseZIndex=e),n(i.interval)&&(this._interval=i.interval),s(i.imageChangedCallback)||(this._imageChangedCallback=i.imageChangedCallback),h(i.slideshowHighlighting)&&!0===i.slideshowHighlighting&&this._prepareHighlighting(),this._prepareContainers(),this.reinitSize(i.imageScaleMode),this._preloader=new d(this._imageWrappers,this._currentIndex,i.preloadLeftNr,i.preloadRightNr)}else e=202}else e=201;return e}reinitSize(i){if(r(this._slideshowContainer)&&a()(this._slideshowContainer).length){r(i)&&(this._imageScaleMode=i);const e=a()(this._slideshowContainer).width(),t=a()(this._slideshowContainer).height();this._imageWrappers[this._currentIndex].applyScaleMode(e,t,this._imageScaleMode)}}start(){0!=this._interval&&(this._intervalId=setInterval(this.showNextImage,this._interval))}stop(){-1!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=-1)}getCurrentImageTitle(){return this._isValidIndex(this._currentIndex)?this._imageWrappers[this._currentIndex].getTitle():""}_wrapImages(i){for(let e=0;e<i.length;e++)this._imageWrappers.push(new u(i[e]))}_isValidIndex(i){return i>=0&&i<this._imageContainers.length}_prepareHighlighting(){0===a()(".mibreit-slideshow-highlight").length&&a()("body").append("<div class='mibreit-slideshow-highlight'/></div>"),a()(this._slideshowContainer).bind("mouseenter",function(){a()(".mibreit-slideshow-highlight").animate({opacity:.75},m)}),a()(this._slideshowContainer).bind("mouseleave",function(){a()(".mibreit-slideshow-highlight").animate({opacity:0},m)})}_prepareContainers(){a()(this._imageContainers).css({opacity:0}),a()(this._imageContainers[this._currentIndex]).css({opacity:1,"z-index":this._baseZIndex})}_changeCurrentImage(i){a()(this._imageContainers[i]).animate({opacity:1},m),a()(this._imageContainers[this._currentIndex]).animate({opacity:0},m),a()(this._imageContainers[i]).css({"z-index":this._baseZIndex+1}),a()(this._imageContainers[this._currentIndex]).css({"z-index":this._baseZIndex}),this._currentIndex=i,this.reinitSize(),void 0!==this._imageChangedCallback&&this._imageChangedCallback(this._currentIndex,this.getCurrentImageTitle()),this._preloader.setCurrentIndex(this._currentIndex)}}class w{init(i){let e=!1;if(r(i.thumbviewContainer)&&a()(i.thumbviewContainer).length){const t=a()(i.thumbviewContainer+" .mibreit-thumbElement"),r=a()(i.thumbviewContainer+" .mibreit-thumbElement > img");if(t.length>0&&t.length===r.length){const h=t.innerWidth(),l=t.innerHeight();let o=a()(i.thumbviewContainer).css("z-index");n(o)||(o=c),this._elevateThumbContainers(i.thumbviewContainer,o),s(i.thumbClickCallback)||this._setupClickEvents(t,i.thumbClickCallback),this._prepareThumbview(r,h,l),e=!0}}return e}_elevateThumbContainers(i,e){a()(i).css({"z-index":c})}_setupClickEvents(i,e){for(let t=0;t<i.length;t++)a()(i[t]).bind("click",{id:t},function(i){e(i.data.id)})}_prepareThumbview(i,e,t){for(let s=0;s<i.length;s++)this._prepareThumb(i[s],e,t)}_prepareThumb(i,e,t){i.hasAttribute("width")&&i.hasAttribute("height")&&(this._scaleThumb(i,e,t),this._positionThumb(i,e,t)),i.hasAttribute("data-src")&&(i.onload=function(){this.removeAttribute("data-src")},i.setAttribute("src",i.getAttribute("data-src")))}_scaleThumb(i,e,t){let s=parseInt(i.getAttribute("width")),r=parseInt(i.getAttribute("height"));let n=1;r*=n=e/t>s/r?e/s:t/r,s*=n,i.setAttribute("width",s),i.setAttribute("height",r)}_positionThumb(i,e,t){const s=parseInt(i.getAttribute("width")),r=parseInt(i.getAttribute("height")),n=(s+e)/2-s,h=(r+t)/2-r;a()(i).css({marginLeft:n}),a()(i).css({marginTop:h})}}class p{constructor(){this._allowMovement=!1,this._nrOfImages=0,this._nrVisibleImages=0,this._midPositionId=0,this._startPositionId=0,this._stepSize=!1}init(i){let e=!1;if(r(i.thumbviewContainer)&&a()(i.thumbviewContainer).length&&r(i.scroller)&&a()(i.scroller).length){let t=a()(i.thumbviewContainer+" .mibreit-thumbElement");t.length>0&&(this.scroller=a()(i.scroller),this._stepSize=t.outerWidth(!0),this._nrOfImages=t.length,this._nrVisibleImages=Math.floor(this.scroller.width()/this._stepSize),this.scroller.css({width:this._nrVisibleImages*this._stepSize}),this._nrOfImages<=this._nrVisibleImages?(this._allowMovement=!1,this.scroller.css({left:(this.scroller.width()-this._stepSize*this._nrOfImages)/2})):(this._allowMovement=!0,this._midPositionId=Math.floor(this._nrVisibleImages/2)),e=!0)}return e}scrollTo(i){if(this._allowMovement){var e=i-this._midPositionId;e<0?this._startPositionId=0:e<=this._nrOfImages-this._nrVisibleImages?this._startPositionId=e:this._startPositionId=this._nrOfImages-this._nrVisibleImages,this._moveScroller()}}scrollRight(i){if(this._allowMovement){var e=this._startPositionId+i,t=this._nrOfImages-this._nrVisibleImages;this._startPositionId==t?this._startPositionId=0:this._startPositionId=e>t?t:e,this._moveScroller()}}scrollLeft(i){if(this._allowMovement){var e=this._startPositionId-i;0==this._startPositionId?this._startPositionId=this._nrOfImages-this._nrVisibleImages:this._startPositionId=e<0?0:e,this._moveScroller()}}_moveScroller(){!1!==this.scroller&&this.scroller.animate({left:-this._startPositionId*this._stepSize},800)}}class C{constructor(){this.toggleFullscreen=(()=>(this._isFullscreen?($(this._slideshowContainer).appendTo(".mibreit-regular"),$(this._slideshowContainer).css({width:this._oldWidth,height:this._oldHeight}),$(this._thumbviewContainer).appendTo(".mibreit-regular"),$(this._titleContainer).appendTo(".mibreit-regular"),$(".mibreit-fullscreen").remove(),this._isFullscreen=!1):(0===$(".mibreit-regular").length&&($(this._slideshowContainer).wrap('<div class="mibreit-regular"></div>'),$(this._thumbviewContainer).appendTo(".mibreit-regular"),$(this._titleContainer).appendTo(".mibreit-regular")),this._oldWidth=$(this._slideshowContainer).css("width"),this._oldHeight=$(this._slideshowContainer).css("height"),$("body").append("<div class='mibreit-fullscreen'><div class='mibreit-fullscreen-layout'></div><div class='exit-fullscreen'></div></div>"),$(".exit-fullscreen").click(this.toggleFullscreen),$(this._slideshowContainer).appendTo(".mibreit-fullscreen-layout"),$(this._slideshowContainer).css({width:"100%","flex-grow":1}),$(this._thumbviewContainer).appendTo(".mibreit-fullscreen-layout"),$(this._thumbviewContainer).css({"flex-grow":0}),$(this._titleContainer).appendTo(".mibreit-fullscreen-layout"),$(this._titleContainer).css({"flex-grow":0}),this._isFullscreen=!0),this._fullscreenChangedCallback&&this._fullscreenChangedCallback(this._isFullscreen),this._isFullscreen)),this._slideshowContainer=void 0,this._thumbviewContainer=void 0,this._isFullscreen=!1,this._fullscreenChangedCallback=void 0}init(i,e,t,s){let r=!1;return $(i).length&&(this._slideshowContainer=i,this._thumbviewContainer=e,this._titleContainer=t,this._fullscreenChangedCallback=s,r=!0),r}isFullscreen(){return this._isFullscreen}}var v=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i};const f=400;class I{constructor(){this._thumbClickCallback=(i=>{this._mibreitSlideshow.showImage(i)}),this._fullscreenEnterClickCallback=(i=>{this._fullscreenController.toggleFullscreen(),i.stopPropagation()}),this._scrollLeftCallback=(()=>{this._mibreitScroller.scrollLeft(6)}),this._scrollRightCallback=(()=>{this._mibreitScroller.scrollRight(6)}),this._mouseEnterCallback=(()=>{a()(this._slideshowNext).animate({opacity:.4},f),a()(this._slideshowPrevious).animate({opacity:.4},f),this._fullscreenEnterButton&&!this._fullscreenController.isFullscreen()&&a()(this._fullscreenEnterButton).animate({opacity:.4},f)}),this._mouseLeaveCallback=(()=>{a()(this._slideshowNext).animate({opacity:0},f),a()(this._slideshowPrevious).animate({opacity:0},f),this._fullscreenEnterButton&&!this._fullscreenController.isFullscreen()&&a()(this._fullscreenEnterButton).animate({opacity:0},f)}),this._imageChangedCallback=((i,e)=>{void 0!==this._mibreitScroller&&this._mibreitScroller.scrollTo(i),void 0!==this._titleContainer&&this._updateTitle(e)}),this._fullscreenChangedCallback=(i=>{i?(a()(this._fullscreenEnterButton).css({opacity:0}),this._mibreitSlideshow.reinitSize("fitaspect"),a()(window).resize(()=>{this._mibreitSlideshow.reinitSize("fitaspect")})):(this._mibreitSlideshow.reinitSize(this._scaleMode),a()(window).off("resize"))}),this._containerClickedCallback=((i,e)=>{i<e/3?this._mibreitSlideshow.showPreviousImage():i>2*e/3&&this._mibreitSlideshow.showNextImage()}),this._keyDownCallback=(i=>{const e=i.which;37===e?this._mibreitSlideshow.showPreviousImage():39===e?this._mibreitSlideshow.showNextImage():27===e?this._fullscreenController&&this._fullscreenController.isFullscreen()&&this._fullscreenController.toggleFullscreen():70===e&&this._fullscreenController&&this._fullscreenController.toggleFullscreen()}),this._slideshowContainer=".mibreit-slideshow",this._thumbviewContainer=".mibreit-thumbs",this._titleContainer="",this._thumbviewNext=".mibreit-thumbview-next",this._thumbviewPrevious=".mibreit-thumbview-previous",this._slideshowNext=".mibreit-slideshow-next",this._slideshowPrevious=".mibreit-slideshow-previous",this._showThumbview=!0,this._slideshowHighlighting=!1,this._scaleMode="fitaspect",this._mibreitScroller=void 0,this._mibreitThumbview=void 0,this._mibreitSlideshow=void 0,this._fullscreenController=void 0,this._fullscreenEnterButton=void 0}init(i){let e=0;if(r(i.slideshowContainer)?this._slideshowContainer=i.slideshowContainer:i.slideshowContainer=this._slideshowContainer,r(i.thumbviewContainer)?this._thumbviewContainer=i.thumbviewContainer:i.thumbviewContainer=this._thumbviewContainer,h(i.showThumbView)&&(this._showThumbview=i.showThumbView),r(i.thumbviewNext)?this._thumbviewNext=i.thumbviewNext:i.thumbviewNext=this._thumbviewNext,r(i.thumbviewPrevious)?this._thumbviewPrevious=i.thumbviewPrevious:i.thumbviewPrevious=this._thumbviewPrevious,r(i.slideshowNext)?this._slideshowNext=i.slideshowNext:i.slideshowNext=this._slideshowNext,r(i.slideshowPrevious)?this._slideshowPrevious=i.slideshowPrevious:i.slideshowPrevious=this._slideshowPrevious,r(i.titleContainer)&&(this._titleContainer=i.titleContainer),r(i.imageScaleMode)?this._scaleMode=i.imageScaleMode:i.imageScaleMode=this._scaleMode,h(i.allowFullscreen)){a()(this._slideshowContainer).append('<div class="mibreit-enter-fullscreen-button"></div>'),this._fullscreenEnterButton=a()(".mibreit-enter-fullscreen-button");const e=new C;e.init(i.slideshowContainer,i.thumbviewContainer,i.titleContainer,this._fullscreenChangedCallback)&&(this._fullscreenController=e)}return h(i.slideshowHighlighting)&&(this._slideshowHighlighting=i.slideshowHighlighting),0===(e=this._initSlideshow(i))&&(this._showThumbview&&this._initThumbview(),this._initKeyAndMouseEvents(),void 0!==this._titleContainer&&this._updateTitle(this._mibreitSlideshow.getCurrentImageTitle())),e}_initSlideshow(i){return this._mibreitSlideshow=new b,this._mibreitSlideshow.init(v({imageChangedCallback:this._imageChangedCallback,slideshowHighlighting:this._slideshowHighlighting},i))}_initThumbview(){this._mibreitThumbview=new w,this._mibreitThumbview.init({thumbClickCallback:this._thumbClickCallback,thumbviewContainer:this._thumbviewContainer})&&(a()(this._thumbviewContainer+" .mibreit-thumbElement").wrapAll("<div class='mibreit-thumbs-scroller' />"),this._mibreitScroller=new p,this._mibreitScroller.init({scroller:this._thumbviewContainer+" .mibreit-thumbs-scroller",thumbviewContainer:this._thumbviewContainer})&&(a()(this._thumbviewPrevious).bind("click",this._scrollLeftCallback),a()(this._thumbviewNext).bind("click",this._scrollRightCallback)))}_initKeyAndMouseEvents(){a()(this._slideshowContainer).bind("mouseenter",this._mouseEnterCallback),a()(this._slideshowContainer).bind("mouseleave",this._mouseLeaveCallback);const i=this;a()(this._slideshowContainer).bind("click",function(e){var t=a()(this).offset(),s=e.pageX-t.left;i._containerClickedCallback(s,a()(this).width())}),this._fullscreenEnterButton&&a()(this._fullscreenEnterButton).bind("click",this._fullscreenEnterClickCallback),a()(document).bind("keydown",this._keyDownCallback)}_updateTitle(i){a()(this._titleContainer).html("<h3>"+i+"</h3>")}}function x(i){if(s(i))throw Error("createSlideshow Error: No Config was provided");const e=new b,t=e.init(i);if(t)throw Error("createSlideshow Error: invalid config - Error Code: "+t);return e}function k(i){if(s(i))throw Error("createGallery Error: No Config was provided");const e=new I,t=e.init(i);if(t)throw Error("createGallery Error: invalid config - Error Code: "+t);return e}t.d(e,"createSlideshow",function(){return x}),t.d(e,"createGallery",function(){return k})},function(i,e){},,,,,function(i,e){},,function(i,e){}]);