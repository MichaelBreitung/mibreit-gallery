var mibreitGallery=function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=8)}([function(t,e){t.exports=jQuery},function(t,e,i){t.exports=i.p+"mibreit-gallery/images/next-image.png"},function(t,e,i){t.exports=i.p+"mibreit-gallery/images/previous-image.png"},function(t,e,i){t.exports=i.p+"mibreit-gallery/images/next.png"},function(t,e,i){t.exports=i.p+"mibreit-gallery/images/previous.png"},function(t,e,i){t.exports=i.p+"mibreit-gallery/images/image-placeholder-transparent.png"},function(t,e,i){t.exports=i.p+"mibreit-gallery/images/exit-fullscreen.png"},function(t,e,i){t.exports=i.p+"mibreit-gallery/images/fullscreen.png"},function(t,e,i){"use strict";i.r(e);i(9),i(14),i(16),i(1),i(2),i(3),i(4),i(5),i(6),i(7);function s(t){return void 0===t||void 0===t}function r(t){return"string"==typeof t||t instanceof String}function n(t){return"number"==typeof t&&isFinite(t)}var h=i(0),a=i.n(h);const l="SWIPE_LEFT",o="SWIPE_RIGHT",u="SWIPE_UP",d="SWIPE_DOWN",c="CLICK",_=30,m=1e3;function g(t,e,i){let s=void 0,r=void 0;function n(t){return t.touches&&t.touches[0]?{x:t.touches[0].pageX,y:t.touches[0].pageY}:t.changedTouches&&t.changedTouches[0]?{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}:{x:t.pageX,y:t.pageY}}$(t).bind("mousedown touchstart",t=>{s=Date.now(),r=n(t),"touchstart"===t.type&&(e.includes(u)||e.includes(d))&&t.preventDefault()}),$(t).bind("mouseup touchend",h=>{if(s&&Date.now()-s<m){const a=n(h),m=function(t,e){const i=e.x-t.x,s=e.y-t.y,r=[];return i>_?r.push(o):i<-_&&r.push(l),s>_?r.push(d):s<-_&&r.push(u),r}(r,a);let g=!1,w=!1;for(let t of m)e.includes(t)&&(i(t),g=!0);m.length||(i(c,a.x-$(t).offset().left,a.y-$(t).offset().top),w=!0),(g||w)&&(h.cancelable&&"touchend"===h.type&&h.preventDefault(),h.stopPropagation()),s=void 0}})}const w=10,b=".mibreit-imageElement",p=".mibreit-enter-fullscreen-button",C=".mibreit-thumbs-scroller",v=".mibreit-thumbElement",f=".mibreit-regular",I=".mibreit-fullscreen",x="data-src",S="data-title",P="title",E="SCALE_MODE_STRETCH",k="SCALE_MODE_EXPAND",y="SCALE_MODE_FITASPECT",T="SCALE_MODE_NONE",N=[E,k,y,T];class A{init(t){let e=!1;if(r(t.thumbviewContainer)&&a()(t.thumbviewContainer).length){const i=a()(t.thumbviewContainer+" .mibreit-thumbElement"),r=a()(t.thumbviewContainer+" .mibreit-thumbElement > img");if(i.length>0&&i.length===r.length){const h=i.innerWidth(),l=i.innerHeight();let o=a()(t.thumbviewContainer).css("z-index");n(o)||(o=w),this._elevateThumbContainers(t.thumbviewContainer,o),s(t.thumbClickCallback)||this._setupClickEvents(i,t.thumbClickCallback),this._prepareThumbview(r,h,l),e=!0}}return e}_elevateThumbContainers(t,e){a()(t).css({"z-index":w})}_setupClickEvents(t,e){for(let i=0;i<t.length;i++)a()(t[i]).bind("click",{id:i},function(t){e(t.data.id)})}_prepareThumbview(t,e,i){for(let s=0;s<t.length;s++)this._prepareThumb(t[s],e,i)}_prepareThumb(t,e,i){t.hasAttribute("width")&&t.hasAttribute("height")&&(this._scaleThumb(t,e,i),this._positionThumb(t,e,i)),t.hasAttribute("data-src")&&(t.onload=function(){this.removeAttribute("data-src")},t.setAttribute("src",t.getAttribute("data-src"))),a()(t).contextmenu(function(){return!1})}_scaleThumb(t,e,i){let s=parseInt(t.getAttribute("width")),r=parseInt(t.getAttribute("height"));let n=1;r*=n=e/i>s/r?e/s:i/r,s*=n,t.setAttribute("width",s),t.setAttribute("height",r)}_positionThumb(t,e,i){const s=parseInt(t.getAttribute("width")),r=parseInt(t.getAttribute("height")),n=(s+e)/2-s,h=(r+i)/2-r;a()(t).css({marginLeft:n}),a()(t).css({marginTop:h})}}const W=7,M=3;class L{constructor(t,e,i,r){this._currentIndex=e,this._imageWrappers=t,this._loadedCount=0,this._preloadLeftNr=M,s(i)||(this._preloadLeftNr=i),this._preloadRightNr=W,s(r)||(this._preloadRightNr=r),this._moveWindow()}setCurrentIndex(t){this._currentIndex!=t&&(this._currentIndex=t,this._moveWindow())}loadImage(t,e){this._loadedCount<this._imageWrappers.length&&t>=0&&t<this._imageWrappers.length&&this._imageWrappers[t].loadImage(e)&&this._loadedCount++}_moveWindow(){if(this._loadedCount<this._imageWrappers.length){let t=this._currentIndex-this._preloadLeftNr,e=this._currentIndex+this._preloadRightNr;this._loadImages(this._currentIndex,e<this._imageWrappers.length?e:this._imageWrappers.length),this._loadImages(t>=0?t:0,this._currentIndex),t<0&&(t=this._imageWrappers.length+t,this._loadImages(t,this._imageWrappers.length)),e>=this._imageWrappers.length&&(e-=this._imageWrappers.length,this._loadImages(0,e))}}_loadImages(t,e){for(let i=t;i<e&&i<this._imageWrappers.length;i++)this._loadImage(this._imageWrappers[i])}_loadImage(t){t.loadImage()&&this._loadedCount++}}class F{constructor(t){if(this._image=t,this._originalWidth=parseInt(this._image.getAttribute("width")),this._originalHeight=parseInt(this._image.getAttribute("height")),this._title="",$(this._image).wrap('<div class="mibreit-center-box"></div>'),$(this._image).on("dragstart",function(){return!1}),$(this._image).contextmenu(function(){return!1}),this._image.hasAttribute(P)){const t=this._image.getAttribute(P);this._image.removeAttribute(P),this._image.setAttribute(S,t)}this._title=this._image.getAttribute(S)}loadImage(t){return!this.wasLoaded()&&(s(t)||(this._image.onload=(()=>{t()})),this._image.setAttribute("src",this._image.getAttribute(x)),this._image.removeAttribute(x),!0)}wasLoaded(){return!this._image.hasAttribute(x)}getTitle(){return this._title}applyScaleMode(t,e,i){switch(i){case E:$(this._image).css({width:"100%",height:"100%"});break;case k:t/e>this._originalWidth/this._originalHeight?$(this._image).css({width:"100%",height:"auto"}):$(this._image).css({width:"auto",height:"100%"});break;case y:t/e>this._originalWidth/this._originalHeight?e<=this._originalHeight?$(this._image).css({width:"auto",height:"100%"}):$(this._image).css({width:"auto",height:"auto"}):t<=this._originalWidth?$(this._image).css({width:"100%",height:"auto"}):$(this._image).css({width:"auto",height:"auto"});break;case T:default:$(this._image).css({width:"auto",height:"auto"})}return this._image}}const O=800,z=3e3;class B{constructor(t){this.interval=z,this.scaleMode=y,this.imageChangedCallback=void 0,this.preloadLeftNr=void 0,this.preloadRightNr=void 0,this.slideshowContainer=r(t)?t:""}withImageChangedCallback(t){return this.imageChangedCallback=t,this}withInterval(t){return n(t)&&(this.interval=t),this}withScaleMode(t){return N.includes(t)&&(this.scaleMode=t),this}withPreloaderLeftSize(t){return t>0&&(this.preloadLeftNr=t),this}withPreloaderRightSize(t){return t>0&&(this.preloadRightNr=t),this}buildSlideshow(){const t=this._validate();if(void 0!==this._validate())throw Error("buildSlideshow Error: invalid config",t);return new R(this)}_validate(){if(0===a()(this.slideshowContainer).length)return"invalid slideshowContainer"}}class R{constructor(t){this.showImage=(t=>{this._isValidIndex(t)&&t!=this._currentIndex&&(this._imageWrappers[t].wasLoaded()?this._changeCurrentImage(t):this._preloader.loadImage(t,()=>{this._changeCurrentImage(t)}))}),this.showNextImage=(()=>{var t=this._currentIndex<this._imageContainers.length-1?this._currentIndex+1:0;this.showImage(t)}),this.showPreviousImage=(()=>{var t=this._currentIndex>0?this._currentIndex-1:this._imageContainers.length-1;this.showImage(t)}),this._slideshowContainer=t.slideshowContainer,this._imageScaleMode=t.scaleMode,this._interval=t.interval,this._imageChangedCallback=t.imageChangedCallback,this._currentIndex=0,this._imageContainers=[],this._imageWrappers=[],this._intervalId=-1,this._baseZIndex=w,this._preloader=void 0,this._isInitialized=this._init(t.preloaderLeftNr,t.preloaderRightNr)}isInitialized(){return this._isInitialized}reinitSize(){s(this._imageWrappers[this._currentIndex])||this._imageWrappers[this._currentIndex].applyScaleMode(a()(this._slideshowContainer).width(),a()(this._slideshowContainer).height(),this._imageScaleMode)}start(){this._isInitialized&&(this._intervalId=setInterval(this.showNextImage,this._interval))}stop(){-1!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=-1)}getCurrentImageTitle(){return this._isValidIndex(this._currentIndex)?this._imageWrappers[this._currentIndex].getTitle():""}_init(t,e){this._imageContainers=a()(`${this._slideshowContainer} ${b}`).has("img");const i=a()(`${this._slideshowContainer} ${b} > img`);return this._imageContainers.length>0&&this._imageContainers.length===i.length&&(this._wrapImages(i),this._prepareContainers(),this.reinitSize(),a()(window).resize(()=>{this.reinitSize()}),this._preloader=new L(this._imageWrappers,this._currentIndex,t,e),!0)}_isValidIndex(t){return t>=0&&t<this._imageContainers.length}_wrapImages(t){for(let e=0;e<t.length;e++)this._imageWrappers.push(new F(t[e]))}_prepareContainers(){a()(this._imageContainers).css({opacity:0}),a()(this._imageContainers[this._currentIndex]).css({opacity:1,"z-index":this._baseZIndex})}_changeCurrentImage(t){a()(this._imageContainers[t]).animate({opacity:1},O),a()(this._imageContainers[this._currentIndex]).animate({opacity:0},O),a()(this._imageContainers[t]).css({"z-index":this._baseZIndex+1}),a()(this._imageContainers[this._currentIndex]).css({"z-index":this._baseZIndex}),this._currentIndex=t,this.reinitSize(),void 0!==this._imageChangedCallback&&this._imageChangedCallback(this._currentIndex,this.getCurrentImageTitle()),this._preloader.setCurrentIndex(this._currentIndex)}}class D{constructor(){this._allowMovement=!1,this._nrOfImages=0,this._nrVisibleImages=0,this._midPositionId=0,this._startPositionId=0,this._stepSize=!1}init(t){let e=!1;if(r(t.thumbviewContainer)&&a()(t.thumbviewContainer).length&&r(t.scroller)&&a()(t.scroller).length){let i=a()(t.thumbviewContainer+" .mibreit-thumbElement");i.length>0&&(this.scroller=a()(t.scroller),this._stepSize=i.outerWidth(!0),this._nrOfImages=i.length,this._nrVisibleImages=Math.floor(this.scroller.width()/this._stepSize),this.scroller.css({width:this._nrVisibleImages*this._stepSize}),this._nrOfImages<=this._nrVisibleImages?(this._allowMovement=!1,this.scroller.css({left:(this.scroller.width()-this._stepSize*this._nrOfImages)/2})):(this._allowMovement=!0,this._midPositionId=Math.floor(this._nrVisibleImages/2)),e=!0)}return e}scrollTo(t){if(this._allowMovement){var e=t-this._midPositionId;e<0?this._startPositionId=0:e<=this._nrOfImages-this._nrVisibleImages?this._startPositionId=e:this._startPositionId=this._nrOfImages-this._nrVisibleImages,this._moveScroller()}}scrollRight(t){if(this._allowMovement){var e=this._startPositionId+t,i=this._nrOfImages-this._nrVisibleImages;this._startPositionId==i?this._startPositionId=0:this._startPositionId=e>i?i:e,this._moveScroller()}}scrollLeft(t){if(this._allowMovement){var e=this._startPositionId-t;0==this._startPositionId?this._startPositionId=this._nrOfImages-this._nrVisibleImages:this._startPositionId=e<0?0:e,this._moveScroller()}}_moveScroller(){!1!==this.scroller&&this.scroller.animate({left:-this._startPositionId*this._stepSize},800)}}class V{constructor(){this.toggleFullscreen=(()=>(this._isFullscreen?($(this._slideshowContainer).appendTo(f),$(this._slideshowContainer).css({width:this._oldWidth,height:this._oldHeight}),$(this._thumbviewContainer).length&&$(this._thumbviewContainer).appendTo(f),this._titleContainer&&$(this._titleContainer).appendTo(f),$(I).remove(),this._isFullscreen=!1):(0===$(f).length&&this.createRegularWrapper(),this._oldWidth=$(this._slideshowContainer).css("width"),this._oldHeight=$(this._slideshowContainer).css("height"),$("body").append(`<div class="${I.substr(1)}"><div class='exit-fullscreen'></div></div>`),$(".exit-fullscreen").click(this.toggleFullscreen),$(this._slideshowContainer).appendTo(I),$(this._slideshowContainer).css({width:"100%","flex-grow":1}),$(this._thumbviewContainer).length&&($(this._thumbviewContainer).appendTo(I),$(this._thumbviewContainer).css({"flex-grow":0})),this._titleContainer&&($(this._titleContainer).appendTo(I),$(this._titleContainer).css({"flex-grow":0})),this._isFullscreen=!0),this._fullscreenChangedCallback&&this._fullscreenChangedCallback(this._isFullscreen),this._isFullscreen)),this._slideshowContainer=void 0,this._thumbviewContainer=void 0,this._isFullscreen=!1,this._fullscreenChangedCallback=void 0}init(t,e,i,s){return!(!r(t)||!$(t).length)&&(this._slideshowContainer=t,this._thumbviewContainer=e,this._titleContainer=i,this._fullscreenChangedCallback=s,!0)}isFullscreen(){return this._isFullscreen}createRegularWrapper(){$(this._slideshowContainer).wrap(`<div class="${f.substr(1)}"></div>`),$(this._thumbviewContainer).length&&$(this._thumbviewContainer).appendTo(f),this._titleContainer&&$(this._titleContainer).appendTo(f)}}const H=400;class j extends B{constructor(t){super(t),this.thumbviewContainer=".mibreit-thumbs",this.thumbviewNext=".mibreit-thumbview-next",this.thumbviewPrevious=".mibreit-thumbview-previous",this.slideshowNext=".mibreit-slideshow-next",this.slideshowPrevious=".mibreit-slideshow-previous",this.titleContainer=void 0,this.allowFullscreen=!0}withSlideshowNextButton(t){return r(t)&&(this.slideshowNext=t),this}withSlideshowPreviousButton(t){return r(t)&&(this.slideshowPrevious=t),this}withThumbviewContainer(t){return r(t)&&(this.thumbviewContainer=t),this}withThumbviewNextButton(t){return r(t)&&(this.thumbviewNext=t),this}withThumbviewPreviousButton(t){return r(t)&&(this.thumbviewPrevious=t),this}withTitleContainer(t){return r(t)&&(this.titleContainer=t),this}withFullscreen(t){return"boolean"==typeof t&&(this.allowFullscreen=t),this}buildGallery(){return new G(this)}}class G{constructor(t){this._thumbClickCallback=(t=>{this._mibreitSlideshow.showImage(t)}),this._fullscreenEnterClickCallback=(t=>{this._fullscreenController.toggleFullscreen(),t.stopPropagation()}),this._scrollLeftCallback=(()=>{this._mibreitScroller.scrollLeft(6)}),this._scrollRightCallback=(()=>{this._mibreitScroller.scrollRight(6)}),this._mouseEnterCallback=(()=>{this._handlePreviousNextButtonsOpacity(!0),this._handleFullscreenEnterButtonOpacity(!0)}),this._mouseLeaveCallback=(()=>{this._handlePreviousNextButtonsOpacity(!1),this._handleFullscreenEnterButtonOpacity(!1)}),this._swipe=((t,e,i)=>{switch(t){case l:this._mibreitSlideshow.showNextImage();break;case o:this._mibreitSlideshow.showPreviousImage();break;case c:this._containerClickedCallback(e,a()(this._slideshowContainer).width())}}),this._imageChangedCallback=((t,e)=>{void 0!==this._mibreitScroller&&this._mibreitScroller.scrollTo(t),void 0!==this._titleContainer&&this._updateTitle(e)}),this._fullscreenChangedCallback=(t=>{this._mibreitSlideshow.reinitSize(),t&&a()(this._fullscreenEnterButton).css({opacity:0})}),this._containerClickedCallback=((t,e)=>{t<e/2?this._mibreitSlideshow.showPreviousImage():t>e/2&&this._mibreitSlideshow.showNextImage()}),this._keyDownCallback=(t=>{const e=t.which;37===e?this._mibreitSlideshow.showPreviousImage():39===e?this._mibreitSlideshow.showNextImage():27===e?this._fullscreenController&&this._fullscreenController.isFullscreen()&&this._fullscreenController.toggleFullscreen():70===e&&this._fullscreenController&&this._fullscreenController.toggleFullscreen()}),this._mibreitSlideshow=t.buildSlideshow(),this._slideshowContainer=t.slideshowContainer,this._slideshowPrevious=t.slideshowPrevious,this._slideshowNext=t.slideshowNext,this._thumbviewContainer=t.thumbviewContainer,this._thumbviewPrevious=t.thumbviewPrevious,this._thumbviewNext=t.thumbviewNext,this._allowFullscreen=t.allowFullscreen,this._titleContainer=t.titleContainer,this._mibreitScroller=void 0,this._mibreitThumbview=void 0,this._fullscreenController=void 0,this._fullscreenEnterButton=void 0}init(){return!!this._mibreitSlideshow.isInitialized()&&(this._allowFullscreen&&this._initFullscreen(),this._initThumbview(),this._initKeyAndMouseEvents(),void 0!==this._titleContainer&&this._updateTitle(this._mibreitSlideshow.getCurrentImageTitle()),!0)}_initFullscreen(){a()(this._slideshowContainer).append(`<div class="${p.substr(1)}"></div>`),this._fullscreenEnterButton=a()(`${this._slideshowContainer} ${p}`);const t=new V;t.init(this._slideshowContainer,this._thumbviewContainer,this._titleContainer,this._fullscreenChangedCallback)&&(this._fullscreenController=t)}_initThumbview(){this._mibreitThumbview=new A,this._mibreitThumbview.init({thumbClickCallback:this._thumbClickCallback,thumbviewContainer:this._thumbviewContainer})&&(a()(`${this._thumbviewContainer} ${v}`).wrapAll(`<div class="${C.substr(1)}" />`),this._mibreitScroller=new D,this._mibreitScroller.init({scroller:`${this._thumbviewContainer} ${C}`,thumbviewContainer:this._thumbviewContainer})&&(a()(this._thumbviewPrevious).bind("click",this._scrollLeftCallback),a()(this._thumbviewNext).bind("click",this._scrollRightCallback)))}_initKeyAndMouseEvents(){a()(this._slideshowContainer).bind("mouseenter",this._mouseEnterCallback),a()(this._slideshowContainer).bind("mouseleave",this._mouseLeaveCallback),g(this._slideshowContainer,[l,o,c],this._swipe),this._fullscreenEnterButton&&(a()(this._fullscreenEnterButton).bind("click",this._fullscreenEnterClickCallback),a()(this._fullscreenEnterButton).bind("mouseup mousedown touchstart touchend",t=>{t.stopPropagation()})),a()(document).bind("keydown",this._keyDownCallback)}_updateTitle(t){a()(this._titleContainer).html("<h3>"+t+"</h3>")}_handleFullscreenEnterButtonOpacity(t){this._fullscreenEnterButton&&a()(this._fullscreenEnterButton).animate({opacity:t&&!this._fullscreenController.isFullscreen()?.4:0},H)}_handlePreviousNextButtonsOpacity(t){a()(this._slideshowNext).animate({opacity:t?.4:0},H),a()(this._slideshowPrevious).animate({opacity:t?.4:0},H)}}function X(t){if(s(t))throw Error("createSlideshow Error: No Config was provided");const e=new j(t.slideshowContainer).withInterval(t.interval).withPreloaderLeftSize(t.preloaderLeftNr).withPreloaderRightSize(t.preloaderRightNr).withImageChangedCallback(t.imageChangedCallback).withScaleMode(t.imageScaleMode).buildSlideshow();if(!e.isInitialized())throw Error("createSlideshow Error: invalid html structure");return e}function Z(t){if(s(t))throw Error("createGallery Error: No Config was provided");const e=new j(t.slideshowContainer).withInterval(t.interval).withPreloaderLeftSize(t.preloaderLeftNr).withPreloaderRightSize(t.preloaderRightNr).withImageChangedCallback(t.imageChangedCallback).withScaleMode(t.imageScaleMode).withFullscreen(t.allowFullscreen).withPreloaderLeftSize(t.preloaderLeftNr).withPreloaderRightSize(t.preloaderRightNr).withThumbviewContainer(t.thumbviewContainer).withSlideshowNextButton(t.slideshowNext).withSlideshowPreviousButton(t.slideshowPrevious).withThumbviewNextButton(t.thumbviewNext).withThumbviewPreviousButton(t.thumbviewPrevious).withTitleContainer(t.titleContainer).buildGallery();if(!e.init())throw Error("createGallery Error: invalid html structure");return e}i.d(e,"createSlideshow",function(){return X}),i.d(e,"createGallery",function(){return Z}),i.d(e,"SCALE_MODE_STRETCH",function(){return E}),i.d(e,"SCALE_MODE_FITASPECT",function(){return y}),i.d(e,"SCALE_MODE_NONE",function(){return T}),i.d(e,"SCALE_MODE_EXPAND",function(){return k})},function(t,e){},,,,,function(t,e){},,function(t,e){}]);