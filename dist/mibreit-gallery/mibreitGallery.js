var mibreitGallery=function(t){var i={};function e(s){if(i[s])return i[s].exports;var r=i[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(s,r,function(i){return t[i]}.bind(null,r));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=8)}([function(t,i){t.exports=jQuery},function(t,i,e){t.exports=e.p+"mibreit-gallery/images/next-image.png"},function(t,i,e){t.exports=e.p+"mibreit-gallery/images/previous-image.png"},function(t,i,e){t.exports=e.p+"mibreit-gallery/images/next.png"},function(t,i,e){t.exports=e.p+"mibreit-gallery/images/previous.png"},function(t,i,e){t.exports=e.p+"mibreit-gallery/images/image-placeholder-transparent.png"},function(t,i,e){t.exports=e.p+"mibreit-gallery/images/exit-fullscreen.png"},function(t,i,e){t.exports=e.p+"mibreit-gallery/images/fullscreen.png"},function(t,i,e){"use strict";e.r(i);e(9),e(14),e(16),e(1),e(2),e(3),e(4),e(5),e(6),e(7);function s(t){return void 0===t||void 0===t}function r(t){return"string"==typeof t||t instanceof String}function n(t){return"number"==typeof t&&isFinite(t)}function h(t){return"boolean"==typeof t}var o=e(0),a=e.n(o);const l=7,_=3;class u{constructor(t,i,e,r){this._currentIndex=i,this._imageWrappers=t,this._loadedCount=0,this._preloadLeftNr=_,s(e)||(this._preloadLeftNr=e),this._preloadRightNr=l,s(r)||(this._preloadRightNr=r),this._moveWindow()}setCurrentIndex(t){this._currentIndex!=t&&(this._currentIndex=t,this._moveWindow())}loadImage(t,i){this._loadedCount<this._imageWrappers.length&&t>=0&&t<this._imageWrappers.length&&this._imageWrappers[t].loadImage(i)&&this._loadedCount++}_moveWindow(){if(this._loadedCount<this._imageWrappers.length){let t=this._currentIndex-this._preloadLeftNr,i=this._currentIndex+this._preloadRightNr;this._loadImages(this._currentIndex,i<this._imageWrappers.length?i:this._imageWrappers.length),this._loadImages(t>=0?t:0,this._currentIndex),t<0&&(t=this._imageWrappers.length+t,this._loadImages(t,this._imageWrappers.length)),i>=this._imageWrappers.length&&(i-=this._imageWrappers.length,this._loadImages(0,i))}}_loadImages(t,i){for(let e=t;e<i&&e<this._imageWrappers.length;e++)this._loadImage(this._imageWrappers[e])}_loadImage(t){t.loadImage()&&this._loadedCount++}}const c="SCALE_MODE_STRETCH",d="SCALE_MODE_EXPAND",g="SCALE_MODE_FITASPECT",m="SCALE_MODE_NONE",b="data-src",w="data-title",p="title";class C{constructor(t){if(this._image=t,this._originalWidth=parseInt(this._image.getAttribute("width")),this._originalHeight=parseInt(this._image.getAttribute("height")),this._title="",$(this._image).wrap('<div class="mibreit-center-box"></div>'),$(this._image).on("dragstart",function(){return!1}),$(this._image).contextmenu(function(){return!1}),this._image.hasAttribute(p)){const t=this._image.getAttribute(p);this._image.removeAttribute(p),this._image.setAttribute(w,t)}this._title=this._image.getAttribute(w)}loadImage(t){return!this.wasLoaded()&&(s(t)||(this._image.onload=(()=>{t()})),this._image.setAttribute("src",this._image.getAttribute(b)),this._image.removeAttribute(b),!0)}wasLoaded(){return!this._image.hasAttribute(b)}getTitle(){return this._title}applyScaleMode(t,i,e){switch(e){case c:$(this._image).css({width:"100%",height:"100%"});break;case d:t/i>this._originalWidth/this._originalHeight?$(this._image).css({width:"100%",height:"auto"}):$(this._image).css({width:"auto",height:"100%"});break;case g:t/i>this._originalWidth/this._originalHeight?i<=this._originalHeight?$(this._image).css({width:"auto",height:"100%"}):$(this._image).css({width:"auto",height:"auto"}):t<=this._originalWidth?$(this._image).css({width:"100%",height:"auto"}):$(this._image).css({width:"auto",height:"auto"});break;case m:default:$(this._image).css({width:"auto",height:"auto"})}return this._image}}const v=10,f=800,I=3e3,x=".mibreit-imageElement",S=".mibreit-slideshow-highlight";class E{constructor(){this.showImage=(t=>{this._isValidIndex(t)&&t!=this._currentIndex&&(this._imageWrappers[t].wasLoaded()?this._changeCurrentImage(t):this._preloader.loadImage(t,()=>{this._changeCurrentImage(t)}))}),this.showNextImage=(()=>{var t=this._currentIndex<this._imageContainers.length-1?this._currentIndex+1:0;this.showImage(t)}),this.showPreviousImage=(()=>{var t=this._currentIndex>0?this._currentIndex-1:this._imageContainers.length-1;this.showImage(t)}),this._currentIndex=0,this._slideshowContainer=void 0,this._imageContainers=[],this._imageWrappers=[],this._interval=I,this._intervalId=-1,this._baseZIndex=v,this._imageChangedCallback=void 0,this._preloader=void 0}init(t){let i=0;if(r(t.slideshowContainer)&&a()(t.slideshowContainer).length){this._slideshowContainer=t.slideshowContainer,this._imageContainers=a()(`${t.slideshowContainer} ${x}`).has("img");const e=a()(`${t.slideshowContainer} ${x} > img`);if(this._imageContainers.length>0&&this._imageContainers.length===e.length){this._wrapImages(e);const i=a()(t.slideshowContainer).css("z-index");n(i)&&(this._baseZIndex=i),n(t.interval)&&(this._interval=t.interval),s(t.imageChangedCallback)||(this._imageChangedCallback=t.imageChangedCallback),h(t.slideshowHighlighting)&&!0===t.slideshowHighlighting&&this._prepareHighlighting(),this._prepareContainers(),this.reinitSize(t.imageScaleMode),this._preloader=new u(this._imageWrappers,this._currentIndex,t.preloadLeftNr,t.preloadRightNr)}else i=202}else i=201;return i}reinitSize(t){if(r(this._slideshowContainer)&&a()(this._slideshowContainer).length){const i=a()(this._slideshowContainer).width(),e=a()(this._slideshowContainer).height();this._imageWrappers[this._currentIndex].applyScaleMode(i,e,t)}}start(){0!=this._interval&&(this._intervalId=setInterval(this.showNextImage,this._interval))}stop(){-1!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=-1)}getCurrentImageTitle(){return this._isValidIndex(this._currentIndex)?this._imageWrappers[this._currentIndex].getTitle():""}_wrapImages(t){for(let i=0;i<t.length;i++)this._imageWrappers.push(new C(t[i]))}_isValidIndex(t){return t>=0&&t<this._imageContainers.length}_prepareHighlighting(){0===a()(S).length&&a()("body").append(`<div class="${S.substr(1)}"/></div>`),a()(this._slideshowContainer).bind("mouseenter",function(){a()(S).animate({opacity:.75},f)}),a()(this._slideshowContainer).bind("mouseleave",function(){a()(S).animate({opacity:0},f)})}_prepareContainers(){a()(this._imageContainers).css({opacity:0}),a()(this._imageContainers[this._currentIndex]).css({opacity:1,"z-index":this._baseZIndex})}_changeCurrentImage(t){a()(this._imageContainers[t]).animate({opacity:1},f),a()(this._imageContainers[this._currentIndex]).animate({opacity:0},f),a()(this._imageContainers[t]).css({"z-index":this._baseZIndex+1}),a()(this._imageContainers[this._currentIndex]).css({"z-index":this._baseZIndex}),this._currentIndex=t,this.reinitSize(),void 0!==this._imageChangedCallback&&this._imageChangedCallback(this._currentIndex,this.getCurrentImageTitle()),this._preloader.setCurrentIndex(this._currentIndex)}}const k="SWIPE_LEFT",y="SWIPE_RIGHT",T="SWIPE_UP",P="SWIPE_DOWN",A="CLICK",N=30,W=1e3;function M(t){return t.touches&&t.touches[0]?{x:t.touches[0].pageX,y:t.touches[0].pageY}:t.changedTouches&&t.changedTouches[0]?{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}:{x:t.pageX,y:t.pageY}}class O{init(t){let i=!1;if(r(t.thumbviewContainer)&&a()(t.thumbviewContainer).length){const e=a()(t.thumbviewContainer+" .mibreit-thumbElement"),r=a()(t.thumbviewContainer+" .mibreit-thumbElement > img");if(e.length>0&&e.length===r.length){const h=e.innerWidth(),o=e.innerHeight();let l=a()(t.thumbviewContainer).css("z-index");n(l)||(l=v),this._elevateThumbContainers(t.thumbviewContainer,l),s(t.thumbClickCallback)||this._setupClickEvents(e,t.thumbClickCallback),this._prepareThumbview(r,h,o),i=!0}}return i}_elevateThumbContainers(t,i){a()(t).css({"z-index":v})}_setupClickEvents(t,i){for(let e=0;e<t.length;e++)a()(t[e]).bind("click",{id:e},function(t){i(t.data.id)})}_prepareThumbview(t,i,e){for(let s=0;s<t.length;s++)this._prepareThumb(t[s],i,e)}_prepareThumb(t,i,e){t.hasAttribute("width")&&t.hasAttribute("height")&&(this._scaleThumb(t,i,e),this._positionThumb(t,i,e)),t.hasAttribute("data-src")&&(t.onload=function(){this.removeAttribute("data-src")},t.setAttribute("src",t.getAttribute("data-src"))),a()(t).contextmenu(function(){return!1})}_scaleThumb(t,i,e){let s=parseInt(t.getAttribute("width")),r=parseInt(t.getAttribute("height"));let n=1;r*=n=i/e>s/r?i/s:e/r,s*=n,t.setAttribute("width",s),t.setAttribute("height",r)}_positionThumb(t,i,e){const s=parseInt(t.getAttribute("width")),r=parseInt(t.getAttribute("height")),n=(s+i)/2-s,h=(r+e)/2-r;a()(t).css({marginLeft:n}),a()(t).css({marginTop:h})}}class L{constructor(){this._allowMovement=!1,this._nrOfImages=0,this._nrVisibleImages=0,this._midPositionId=0,this._startPositionId=0,this._stepSize=!1}init(t){let i=!1;if(r(t.thumbviewContainer)&&a()(t.thumbviewContainer).length&&r(t.scroller)&&a()(t.scroller).length){let e=a()(t.thumbviewContainer+" .mibreit-thumbElement");e.length>0&&(this.scroller=a()(t.scroller),this._stepSize=e.outerWidth(!0),this._nrOfImages=e.length,this._nrVisibleImages=Math.floor(this.scroller.width()/this._stepSize),this.scroller.css({width:this._nrVisibleImages*this._stepSize}),this._nrOfImages<=this._nrVisibleImages?(this._allowMovement=!1,this.scroller.css({left:(this.scroller.width()-this._stepSize*this._nrOfImages)/2})):(this._allowMovement=!0,this._midPositionId=Math.floor(this._nrVisibleImages/2)),i=!0)}return i}scrollTo(t){if(this._allowMovement){var i=t-this._midPositionId;i<0?this._startPositionId=0:i<=this._nrOfImages-this._nrVisibleImages?this._startPositionId=i:this._startPositionId=this._nrOfImages-this._nrVisibleImages,this._moveScroller()}}scrollRight(t){if(this._allowMovement){var i=this._startPositionId+t,e=this._nrOfImages-this._nrVisibleImages;this._startPositionId==e?this._startPositionId=0:this._startPositionId=i>e?e:i,this._moveScroller()}}scrollLeft(t){if(this._allowMovement){var i=this._startPositionId-t;0==this._startPositionId?this._startPositionId=this._nrOfImages-this._nrVisibleImages:this._startPositionId=i<0?0:i,this._moveScroller()}}_moveScroller(){!1!==this.scroller&&this.scroller.animate({left:-this._startPositionId*this._stepSize},800)}}const z=".mibreit-regular",F=".mibreit-fullscreen";class H{constructor(){this.toggleFullscreen=(()=>(this._isFullscreen?($(this._slideshowContainer).appendTo(z),$(this._slideshowContainer).css({width:this._oldWidth,height:this._oldHeight}),this._thumbviewContainer&&$(this._thumbviewContainer).appendTo(z),this._titleContainer&&$(this._titleContainer).appendTo(z),$(F).remove(),this._isFullscreen=!1):(0===$(z).length&&this.createRegularWrapper(),this._oldWidth=$(this._slideshowContainer).css("width"),this._oldHeight=$(this._slideshowContainer).css("height"),$("body").append(`<div class="${F.substr(1)}"><div class='exit-fullscreen'></div></div>`),$(".exit-fullscreen").click(this.toggleFullscreen),$(this._slideshowContainer).appendTo(F),$(this._slideshowContainer).css({width:"100%","flex-grow":1}),this._thumbviewContainer&&($(this._thumbviewContainer).appendTo(F),$(this._thumbviewContainer).css({"flex-grow":0})),this._titleContainer&&($(this._titleContainer).appendTo(F),$(this._titleContainer).css({"flex-grow":0})),this._isFullscreen=!0),this._fullscreenChangedCallback&&this._fullscreenChangedCallback(this._isFullscreen),this._isFullscreen)),this._slideshowContainer=void 0,this._thumbviewContainer=void 0,this._isFullscreen=!1,this._fullscreenChangedCallback=void 0}init(t,i,e,s){return!(!r(t)||!$(t).length)&&(this._slideshowContainer=t,this._thumbviewContainer=i,this._titleContainer=e,this._fullscreenChangedCallback=s,!0)}isFullscreen(){return this._isFullscreen}createRegularWrapper(){$(this._slideshowContainer).wrap(`<div class="${z.substr(1)}"></div>`),this._thumbviewContainer&&$(this._thumbviewContainer).appendTo(z),this._titleContainer&&$(this._titleContainer).appendTo(z)}}var D=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};const V=400;class R{constructor(){this._thumbClickCallback=(t=>{this._mibreitSlideshow.showImage(t)}),this._fullscreenEnterClickCallback=(t=>{this._fullscreenController.toggleFullscreen(),t.stopPropagation()}),this._scrollLeftCallback=(()=>{this._mibreitScroller.scrollLeft(6)}),this._scrollRightCallback=(()=>{this._mibreitScroller.scrollRight(6)}),this._mouseEnterCallback=(()=>{a()(this._slideshowNext).animate({opacity:.4},V),a()(this._slideshowPrevious).animate({opacity:.4},V),this._fullscreenEnterButton&&(this._fullscreenController.isFullscreen()?a()(this._fullscreenEnterButton).animate({opacity:0},V):a()(this._fullscreenEnterButton).animate({opacity:.4},V))}),this._mouseLeaveCallback=(()=>{a()(this._slideshowNext).animate({opacity:0},V),a()(this._slideshowPrevious).animate({opacity:0},V),this._fullscreenEnterButton&&a()(this._fullscreenEnterButton).animate({opacity:0},V)}),this._swipe=((t,i,e)=>{switch(t){case k:this._mibreitSlideshow.showNextImage();break;case y:this._mibreitSlideshow.showPreviousImage();break;case A:this._containerClickedCallback(i,a()(this._slideshowContainer).width())}}),this._imageChangedCallback=((t,i)=>{void 0!==this._mibreitScroller&&this._mibreitScroller.scrollTo(t),void 0!==this._titleContainer&&this._updateTitle(i)}),this._fullscreenChangedCallback=(t=>{t?(this._mibreitSlideshow.reinitSize("fitaspect"),a()(window).resize(()=>{this._mibreitSlideshow.reinitSize("fitaspect")}),a()(this._fullscreenEnterButton).css({opacity:0})):(this._mibreitSlideshow.reinitSize(this._scaleMode),a()(window).off("resize"))}),this._containerClickedCallback=((t,i)=>{t<i/3?this._mibreitSlideshow.showPreviousImage():t>2*i/3&&this._mibreitSlideshow.showNextImage()}),this._keyDownCallback=(t=>{const i=t.which;37===i?this._mibreitSlideshow.showPreviousImage():39===i?this._mibreitSlideshow.showNextImage():27===i?this._fullscreenController&&this._fullscreenController.isFullscreen()&&this._fullscreenController.toggleFullscreen():70===i&&this._fullscreenController&&this._fullscreenController.toggleFullscreen()}),this._slideshowContainer=".mibreit-slideshow",this._thumbviewContainer=".mibreit-thumbs",this._titleContainer="",this._thumbviewNext=".mibreit-thumbview-next",this._thumbviewPrevious=".mibreit-thumbview-previous",this._slideshowNext=".mibreit-slideshow-next",this._slideshowPrevious=".mibreit-slideshow-previous",this._showThumbview=!0,this._slideshowHighlighting=!1,this._scaleMode="fitaspect",this._mibreitScroller=void 0,this._mibreitThumbview=void 0,this._mibreitSlideshow=void 0,this._fullscreenController=void 0,this._fullscreenEnterButton=void 0}init(t){let i=0;if(r(t.slideshowContainer)?this._slideshowContainer=t.slideshowContainer:t.slideshowContainer=this._slideshowContainer,r(t.thumbviewContainer)?this._thumbviewContainer=t.thumbviewContainer:t.thumbviewContainer=this._thumbviewContainer,h(t.showThumbView)&&(this._showThumbview=t.showThumbView),r(t.thumbviewNext)?this._thumbviewNext=t.thumbviewNext:t.thumbviewNext=this._thumbviewNext,r(t.thumbviewPrevious)?this._thumbviewPrevious=t.thumbviewPrevious:t.thumbviewPrevious=this._thumbviewPrevious,r(t.slideshowNext)?this._slideshowNext=t.slideshowNext:t.slideshowNext=this._slideshowNext,r(t.slideshowPrevious)?this._slideshowPrevious=t.slideshowPrevious:t.slideshowPrevious=this._slideshowPrevious,r(t.titleContainer)&&(this._titleContainer=t.titleContainer),r(t.imageScaleMode)?this._scaleMode=t.imageScaleMode:t.imageScaleMode=this._scaleMode,h(t.allowFullscreen)){a()(this._slideshowContainer).append('<div class="mibreit-enter-fullscreen-button"></div>'),this._fullscreenEnterButton=a()(t.slideshowContainer+" .mibreit-enter-fullscreen-button");const i=new H;i.init(t.slideshowContainer,t.thumbviewContainer,t.titleContainer,this._fullscreenChangedCallback)&&(this._fullscreenController=i)}return h(t.slideshowHighlighting)&&(this._slideshowHighlighting=t.slideshowHighlighting),0===(i=this._initSlideshow(t))&&(this._showThumbview&&this._initThumbview(),this._initKeyAndMouseEvents(),void 0!==this._titleContainer&&this._updateTitle(this._mibreitSlideshow.getCurrentImageTitle())),i}_initSlideshow(t){return this._mibreitSlideshow=new E,this._mibreitSlideshow.init(D({imageChangedCallback:this._imageChangedCallback,slideshowHighlighting:this._slideshowHighlighting},t))}_initThumbview(){this._mibreitThumbview=new O,this._mibreitThumbview.init({thumbClickCallback:this._thumbClickCallback,thumbviewContainer:this._thumbviewContainer})&&(a()(this._thumbviewContainer+" .mibreit-thumbElement").wrapAll("<div class='mibreit-thumbs-scroller' />"),this._mibreitScroller=new L,this._mibreitScroller.init({scroller:this._thumbviewContainer+" .mibreit-thumbs-scroller",thumbviewContainer:this._thumbviewContainer})&&(a()(this._thumbviewPrevious).bind("click",this._scrollLeftCallback),a()(this._thumbviewNext).bind("click",this._scrollRightCallback)))}_initKeyAndMouseEvents(){a()(this._slideshowContainer).bind("mouseenter",this._mouseEnterCallback),a()(this._slideshowContainer).bind("mouseleave",this._mouseLeaveCallback),function(t,i,e){let s=void 0,r=void 0,n=$(t).offset();$(t).bind("mousedown touchstart",t=>{s=Date.now(),r=M(t)}),$("html").bind("mouseup touchend",t=>{if(s){const h=M(t);let o=!1;if(Date.now()-s<W){const t=h.x-r.x,s=h.y-r.y;t>N&&i.includes(y)?(o=!0,e(y)):t<-N&&i.includes(k)&&(o=!0,e(k)),s>N&&i.includes(P)?(o=!0,e(P)):s<-N&&i.includes(T)&&(o=!0,e(T))}!o&&i.includes(A)&&e(A,h.x-n.left,h.y-n.top)}s=void 0})}(this._slideshowContainer,[k,y,A],this._swipe),this._fullscreenEnterButton&&a()(this._fullscreenEnterButton).bind("click",this._fullscreenEnterClickCallback),a()(document).bind("keydown",this._keyDownCallback)}_updateTitle(t){a()(this._titleContainer).html("<h3>"+t+"</h3>")}}function j(t){if(s(t))throw Error("createSlideshow Error: No Config was provided");const i=new E,e=i.init(t);if(e)throw Error("createSlideshow Error: invalid config - Error Code: "+e);return i}function B(t){if(s(t))throw Error("createGallery Error: No Config was provided");const i=new R,e=i.init(t);if(e)throw Error("createGallery Error: invalid config - Error Code: "+e);return i}e.d(i,"createSlideshow",function(){return j}),e.d(i,"createGallery",function(){return B}),e.d(i,"SCALE_MODE_STRETCH",function(){return c}),e.d(i,"SCALE_MODE_FITASPECT",function(){return g}),e.d(i,"SCALE_MODE_NONE",function(){return m}),e.d(i,"SCALE_MODE_EXPAND",function(){return d})},function(t,i){},,,,,function(t,i){},,function(t,i){}]);